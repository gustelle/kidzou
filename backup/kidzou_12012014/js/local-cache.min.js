function setExpiration(a,b){var c=localStorage.getItem("localStorageExpirations");if(c){for(var d=c.split("|"),e=0;e<d.length;e++){var f=d[e];if(f.split("^")[0]==a){d.splice(e,1);break}}d.push(a+"^"+b.toString()),localStorage.setItem("localStorageExpirations",d.join("|"))}else localStorage.setItem("localStorageExpirations",a+"^"+b.toString())}function getExpiration(a){var b=localStorage.getItem("localStorageExpirations");if(b)for(var c=b.split("|"),d=0;d<c.length;d++){var e=c[d],f=e.split("^")[0],g=e.split("^")[1];if(f==a){var h=new Date,i=new Date(g);return h>i&&(c.splice(d,1),c.length>0?localStorage.setItem("localStorageExpirations",c.join("|")):localStorage.removeItem("localStorageExpirations")),new Date(g)}}return null}Storage.prototype.setCacheItem=function(a,b,c){var d=null;"object"==typeof b?(b.isJson=!0,d=JSON.stringify(b)):d=b,localStorage.setItem(a,d);var e=new Date,f=new Date;"undefined"==typeof f?f.setDate(e.getDate()+1):(c.minutes&&f.setMinutes(e.getMinutes()+c.minutes),c.hours&&f.setHours(e.getHours()+c.hours),c.days&&f.setDate(e.getDate()+c.days),c.months&&f.setMonth(e.getMonth()+c.months),c.years&&f.setYear(e.getYear()+c.years)),setExpiration(a,f)},Storage.prototype.getCacheItem=function(a){if(!localStorage.getItem(a))return null;var b=new Date,c=getExpiration(a);if(c&&c>=b){var d=localStorage.getItem(a);try{var e=JSON.parse(d);return e.isJson?(delete e.isJson,e):d}catch(f){return d}}return localStorage.removeItem(a),null};