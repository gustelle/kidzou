var storageSupport=function(){function a(a){i=a}function b(a){if(!e()||!i)return null;var b=localStorage.getCacheItem(a);return null===b?null:JSON.parse(b)}function c(a,b){e()&&i&&null!==b&&null!==a&&""!==a&&localStorage.setCacheItem(a,ko.toJSON(ko.mapping.toJS(b)),{days:30})}function d(a){if(e())try{localStorage.setCacheItem(a,"",{days:0}),localStorage.getCacheItem(a),localStorage.removeItem(a)}catch(b){}else h(a)}function e(){return"undefined"!=typeof Storage?!0:!1}function f(a,b){e()?localStorage.setItem(a,b):j(a,b,{path:"/",expires:180})}function g(a){return e()?localStorage.getItem(a):j(a)}function h(a){logger.debug("removeLocal "+a),e()?localStorage.removeItem(a):j(a,null,{path:"/",expires:-1})}var i=!1,j=function(a,b,c){if(logger.debug("cookie["+a+"] = "+b+" ("+ko.toJSON(c)+") "),"undefined"==typeof b){for(var d,e,f=document.cookie.split(";"),g=0;g<f.length;g++)if(d=jQuery.trim(f[g].substr(0,f[g].indexOf("="))),e=f[g].substr(f[g].indexOf("=")+1),d===a)return unescape(e)}else{if(c=c||{},b?b=escape(b):(b="",c.expires=-365),c.expires){var h=new Date;h.setDate(h.getDate()+c.expires),b+="; expires="+h.toUTCString()}c.domain&&(b+="; domain="+c.domain),c.path&&(b+="; path="+c.path),document.cookie=a+"="+b}};return{setLocalSupport:a,setLocal:f,getLocal:g,removeLocal:h,toLocalData:c,fromLocalData:b,removeLocalData:d}}();